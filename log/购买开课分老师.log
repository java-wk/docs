2020-01-15 16:46:39.564  INFO 4439 --- [nio-8789-exec-1] c.p.a.interceptor.CostInterceptor        : [URL]/course_v2/activityCenter/pay/aliPay[PARAMS]idfa:21C0805B-483F-46F0-8431-3FB7C1B4858D|;source:794|;starttime:1579077984|;putaoid:738058|;NDevice:iPad7,3|;sign:80793474ef41a46dee08a14a4afb2896|;systemVersion:13.3|;appBuildVersion:6|;token:null|;uuid:F9B37F14-7A4E-4655-BE0D-8E6A32DDC835|;from:iPad|;device:iPad Pro 10.5|;appVersion:200.5.3|;ts:1579077984|;putaoId:738058|;_t:1579077999509|;sourceToken:UarPulQB|;classId:136|;appEnv:putaoApp|;goodsId:193|;returnUrl:https://www.putaoabc.com/onlinepages/op_activity/putin_success|;
2020-01-15 16:46:39.569  INFO 4439 --- [nio-8789-exec-1] c.p.a.controller.ActivityPayController   : userByPutaoId_com.putaoabc.usercenter.api.dto.CourseUserDTO@63d55c80
Hibernate: select periodscla0_.class_id as class_id1_29_0_, periodscla0_.activity_id as activity2_29_0_, periodscla0_.activity_type as activity3_29_0_, periodscla0_.camp_id as camp_id4_29_0_, periodscla0_.class_code_url as class_co5_29_0_, periodscla0_.class_name as class_na6_29_0_, periodscla0_.class_status as class_st7_29_0_, periodscla0_.course_type as course_t8_29_0_, periodscla0_.course_type_details as course_t9_29_0_, periodscla0_.create_time as create_10_29_0_, periodscla0_.device as device11_29_0_, periodscla0_.grade as grade12_29_0_, periodscla0_.opening_date as opening13_29_0_, periodscla0_.periods as periods14_29_0_, periodscla0_.periods_describe as periods15_29_0_, periodscla0_.periods_type as periods16_29_0_, periodscla0_.pred_num as pred_nu17_29_0_, periodscla0_.school_id as school_18_29_0_, periodscla0_.school_name as school_19_29_0_, periodscla0_.st_name as st_name20_29_0_, periodscla0_.teacher_id as teacher21_29_0_, periodscla0_.teacher_wx_num as teacher22_29_0_, periodscla0_.update_code_num as update_23_29_0_, periodscla0_.update_code_type as update_24_29_0_, periodscla0_.update_time as update_25_29_0_ from periods_class_info periodscla0_ where periodscla0_.class_id=?
Hibernate: select activityin0_.activity_id as activity1_6_0_, activityin0_.acti_msg_fixed as acti_msg2_6_0_, activityin0_.acti_msg_sms_record as acti_msg3_6_0_, activityin0_.acti_msg_wx_template_record as acti_msg4_6_0_, activityin0_.activity_name as activity5_6_0_, activityin0_.activity_type as activity6_6_0_, activityin0_.activity_url as activity7_6_0_, activityin0_.cash_condition as cash_con8_6_0_, activityin0_.conditions as conditio9_6_0_, activityin0_.create_by as create_10_6_0_, activityin0_.create_time as create_11_6_0_, activityin0_.goods_price as goods_p12_6_0_, activityin0_.if_renew as if_rene13_6_0_, activityin0_.if_return_cash as if_retu14_6_0_, activityin0_.package_id as package15_6_0_, activityin0_.package_name as package16_6_0_, activityin0_.package_type as package17_6_0_, activityin0_.personal_type as persona18_6_0_, activityin0_.supple_id as supple_19_6_0_, activityin0_.unit as unit20_6_0_, activityin0_.update_by as update_21_6_0_, activityin0_.update_time as update_22_6_0_ from activity_info activityin0_ where activityin0_.activity_id=?
Hibernate: insert into activtiy_center_order (activity_id, activity_type, class_id, dis_count_code, goods_id, group_id, open_id, order_id, pay_status, putao_id, source, unit, user_phone) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2020-01-15 16:46:39.623  INFO 4439 --- [nio-8789-exec-1] c.p.a.interceptor.CostInterceptor        : [Putao-Observer,hostName=VM_0_4_centos,cost=58,http_code=200,ip=121.69.42.54,putaoid=738058,serviceName=activities-common-service:8789,uri=/course_v2/activityCenter/pay/aliPay,uuid=a33fa73f-5294-43bf-bf25-dd5528e26021]
2020-01-15 16:46:47.789  INFO 4439 --- [io-8789-exec-10] c.p.a.interceptor.CostInterceptor        : [URL]/course_v2/activityCenter/admission/checkAdmission[PARAMS]uuid:10.10.38.141|;putaoid:738061|;sign:a0e92e7bdc397e7dff92783aa3b4bd39|;ts:1579078007786|;from:weixin|;putaoId:738061|;token:688195ca27|;source:794|;sourceToken:UarPulQB|;classId:136|;tId:82|;
Hibernate: select periodscla0_.class_id as class_id1_29_0_, periodscla0_.activity_id as activity2_29_0_, periodscla0_.activity_type as activity3_29_0_, periodscla0_.camp_id as camp_id4_29_0_, periodscla0_.class_code_url as class_co5_29_0_, periodscla0_.class_name as class_na6_29_0_, periodscla0_.class_status as class_st7_29_0_, periodscla0_.course_type as course_t8_29_0_, periodscla0_.course_type_details as course_t9_29_0_, periodscla0_.create_time as create_10_29_0_, periodscla0_.device as device11_29_0_, periodscla0_.grade as grade12_29_0_, periodscla0_.opening_date as opening13_29_0_, periodscla0_.periods as periods14_29_0_, periodscla0_.periods_describe as periods15_29_0_, periodscla0_.periods_type as periods16_29_0_, periodscla0_.pred_num as pred_nu17_29_0_, periodscla0_.school_id as school_18_29_0_, periodscla0_.school_name as school_19_29_0_, periodscla0_.st_name as st_name20_29_0_, periodscla0_.teacher_id as teacher21_29_0_, periodscla0_.teacher_wx_num as teacher22_29_0_, periodscla0_.update_code_num as update_23_29_0_, periodscla0_.update_code_type as update_24_29_0_, periodscla0_.update_time as update_25_29_0_ from periods_class_info periodscla0_ where periodscla0_.class_id=?
Hibernate: select activityin0_.activity_id as activity1_6_0_, activityin0_.acti_msg_fixed as acti_msg2_6_0_, activityin0_.acti_msg_sms_record as acti_msg3_6_0_, activityin0_.acti_msg_wx_template_record as acti_msg4_6_0_, activityin0_.activity_name as activity5_6_0_, activityin0_.activity_type as activity6_6_0_, activityin0_.activity_url as activity7_6_0_, activityin0_.cash_condition as cash_con8_6_0_, activityin0_.conditions as conditio9_6_0_, activityin0_.create_by as create_10_6_0_, activityin0_.create_time as create_11_6_0_, activityin0_.goods_price as goods_p12_6_0_, activityin0_.if_renew as if_rene13_6_0_, activityin0_.if_return_cash as if_retu14_6_0_, activityin0_.package_id as package15_6_0_, activityin0_.package_name as package16_6_0_, activityin0_.package_type as package17_6_0_, activityin0_.personal_type as persona18_6_0_, activityin0_.supple_id as supple_19_6_0_, activityin0_.unit as unit20_6_0_, activityin0_.update_by as update_21_6_0_, activityin0_.update_time as update_22_6_0_ from activity_info activityin0_ where activityin0_.activity_id=?
2020-01-15 16:46:47.792  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : {"conditions":{"condition_forbid":[[{"leftoperator":"ifForbidOther","predicate":"eq","rightoperator":0}]],"condition_course":[[{"leftoperator":"mainCourse","predicate":"eq","rightoperator":0},{"leftoperator":"experienceCourse","predicate":"eq","rightoperator":0},{"leftoperator":"specialCourse","predicate":"eq","rightoperator":0}]],"condition_source":[[{"leftoperator":"isNew","predicate":"eq","rightoperator":1}],[{"leftoperator":"sameSource","predicate":"eq","rightoperator":1}],[{"leftoperator":"withinOneDay","predicate":"eq","rightoperator":1}]]}}
2020-01-15 16:46:47.792  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : 3
Hibernate: select experience0_.id as id1_20_, experience0_.create_time as create_t2_20_, experience0_.end_time as end_time3_20_, experience0_.level as level4_20_, experience0_.putao_id as putao_id5_20_, experience0_.type as type6_20_, experience0_.unit as unit7_20_ from experience_camp_activity_record experience0_ where experience0_.putao_id=? and (experience0_.unit in (? , ? , ? , ?))
2020-01-15 16:46:47.794  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : judgeExperienceCamp  putaoId:738061  records[]
Hibernate: select experience0_.id as id1_20_, experience0_.create_time as create_t2_20_, experience0_.end_time as end_time3_20_, experience0_.level as level4_20_, experience0_.putao_id as putao_id5_20_, experience0_.type as type6_20_, experience0_.unit as unit7_20_ from experience_camp_activity_record experience0_ where experience0_.putao_id=? and (experience0_.unit in (? , ? , ? , ?))
2020-01-15 16:46:47.795  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : judgeSpecialCamp  putaoId:738061  records[]
2020-01-15 16:46:47.795 ERROR 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : substring0==0&&0==0&&0==0
2020-01-15 16:46:47.795  INFO 4439 --- [io-8789-exec-10] c.p.a.util.ActivityAdmissionUtil         : [0==0, &&, 0==0, &&, 0==0]stack
2020-01-15 16:46:47.795 ERROR 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : subSubResult ==>>true
2020-01-15 16:46:47.795  INFO 4439 --- [io-8789-exec-10] c.p.a.util.ActivityAdmissionUtil         : [true]stack
2020-01-15 16:46:47.795  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : subResult =>true
2020-01-15 16:46:47.795  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : conditions_sub[[{"leftoperator":"isNew","predicate":"eq","rightoperator":1}],[{"leftoperator":"sameSource","predicate":"eq","rightoperator":1}],[{"leftoperator":"withinOneDay","predicate":"eq","rightoperator":1}]]
2020-01-15 16:46:47.795  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : 1
2020-01-15 16:46:47.798 ERROR 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : substring1==1
2020-01-15 16:46:47.798  INFO 4439 --- [io-8789-exec-10] c.p.a.util.ActivityAdmissionUtil         : [1==1]stack
2020-01-15 16:46:47.798 ERROR 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : subSubResult ==>>true
2020-01-15 16:46:47.798  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : 1
Hibernate: select channelinf0_.id as id1_15_, channelinf0_.activity_id as activity2_15_, channelinf0_.activity_rule as activity3_15_, channelinf0_.camp_id as camp_id4_15_, channelinf0_.channel as channel5_15_, channelinf0_.channel_classify as channel_6_15_, channelinf0_.channel_instruction as channel_7_15_, channelinf0_.channel_level as channel_8_15_, channelinf0_.channel_type as channel_9_15_, channelinf0_.channel_url as channel10_15_, channelinf0_.class_id as class_i11_15_, channelinf0_.delay_type as delay_t12_15_, channelinf0_.first_echeon as first_e13_15_, channelinf0_.five_echeon as five_ec14_15_, channelinf0_.fourth_echeon as fourth_15_15_, channelinf0_.group_id as group_i16_15_, channelinf0_.if_own as if_own17_15_, channelinf0_.if_statistics as if_stat18_15_, channelinf0_.new_sale as new_sal19_15_, channelinf0_.old_sale as old_sal20_15_, channelinf0_.producer_shop_id as produce21_15_, channelinf0_.second_echeon as second_22_15_, channelinf0_.shop_id as shop_id23_15_, channelinf0_.source as source24_15_, channelinf0_.statistics_date as statist25_15_, channelinf0_.statistics_type as statist26_15_, channelinf0_.status as status27_15_, channelinf0_.subdivide_channel as subdivi28_15_, channelinf0_.third_echeon as third_e29_15_, channelinf0_.third_product_group as third_p30_15_, channelinf0_.url_type as url_typ31_15_, channelinf0_.user_name as user_na32_15_ from channel_info channelinf0_ where channelinf0_.source=? limit ?
Hibernate: select channelinf0_.id as id1_15_, channelinf0_.activity_id as activity2_15_, channelinf0_.activity_rule as activity3_15_, channelinf0_.camp_id as camp_id4_15_, channelinf0_.channel as channel5_15_, channelinf0_.channel_classify as channel_6_15_, channelinf0_.channel_instruction as channel_7_15_, channelinf0_.channel_level as channel_8_15_, channelinf0_.channel_type as channel_9_15_, channelinf0_.channel_url as channel10_15_, channelinf0_.class_id as class_i11_15_, channelinf0_.delay_type as delay_t12_15_, channelinf0_.first_echeon as first_e13_15_, channelinf0_.five_echeon as five_ec14_15_, channelinf0_.fourth_echeon as fourth_15_15_, channelinf0_.group_id as group_i16_15_, channelinf0_.if_own as if_own17_15_, channelinf0_.if_statistics as if_stat18_15_, channelinf0_.new_sale as new_sal19_15_, channelinf0_.old_sale as old_sal20_15_, channelinf0_.producer_shop_id as produce21_15_, channelinf0_.second_echeon as second_22_15_, channelinf0_.shop_id as shop_id23_15_, channelinf0_.source as source24_15_, channelinf0_.statistics_date as statist25_15_, channelinf0_.statistics_type as statist26_15_, channelinf0_.status as status27_15_, channelinf0_.subdivide_channel as subdivi28_15_, channelinf0_.third_echeon as third_e29_15_, channelinf0_.third_product_group as third_p30_15_, channelinf0_.url_type as url_typ31_15_, channelinf0_.user_name as user_na32_15_ from channel_info channelinf0_ where channelinf0_.source=? limit ?
2020-01-15 16:46:47.802 ERROR 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : substring0==1
2020-01-15 16:46:47.802  INFO 4439 --- [io-8789-exec-10] c.p.a.util.ActivityAdmissionUtil         : [0==1]stack
2020-01-15 16:46:47.802 ERROR 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : subSubResult ==>>false
2020-01-15 16:46:47.802  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : 1
2020-01-15 16:46:47.804  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : 804_2.2333333333333333E-4
2020-01-15 16:46:47.804 ERROR 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : substring1==1
2020-01-15 16:46:47.804  INFO 4439 --- [io-8789-exec-10] c.p.a.util.ActivityAdmissionUtil         : [1==1]stack
2020-01-15 16:46:47.804 ERROR 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : subSubResult ==>>true
2020-01-15 16:46:47.804  INFO 4439 --- [io-8789-exec-10] c.p.a.util.ActivityAdmissionUtil         : [true, ||, false, ||, true]stack
2020-01-15 16:46:47.804  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : subResult =>true
2020-01-15 16:46:47.804  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : conditions_sub[[{"leftoperator":"ifForbidOther","predicate":"eq","rightoperator":0}]]
2020-01-15 16:46:47.804  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : 1
Hibernate: select activityre0_.id as id1_9_, activityre0_.activity_id as activity2_9_, activityre0_.activity_name as activity3_9_, activityre0_.class_id as class_id4_9_, activityre0_.create_time as create_t5_9_, activityre0_.experience_id as experien6_9_, activityre0_.putao_id as putao_id7_9_, activityre0_.return_day as return_d8_9_, activityre0_.return_money as return_m9_9_, activityre0_.return_platform as return_10_9_, activityre0_.return_type as return_11_9_, activityre0_.status as status12_9_ from activity_return_money_record activityre0_ where activityre0_.putao_id=?
2020-01-15 16:46:47.805  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : activityReturnMoneyRecordRepository.findAllByPutaoId(putaoId :738061), result:[]
2020-01-15 16:46:47.805 ERROR 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : substring2==0
2020-01-15 16:46:47.805  INFO 4439 --- [io-8789-exec-10] c.p.a.util.ActivityAdmissionUtil         : [2==0]stack
2020-01-15 16:46:47.805 ERROR 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : subSubResult ==>>false
2020-01-15 16:46:47.805  INFO 4439 --- [io-8789-exec-10] c.p.a.util.ActivityAdmissionUtil         : [false]stack
2020-01-15 16:46:47.805  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : subResult =>false
2020-01-15 16:46:47.805  INFO 4439 --- [io-8789-exec-10] c.p.a.service.ActivityAdmissionService   : change to true
2020-01-15 16:46:47.805  INFO 4439 --- [io-8789-exec-10] c.p.a.util.ActivityAdmissionUtil         : [true, &&, true, &&, true]stack
2020-01-15 16:46:47.806  INFO 4439 --- [io-8789-exec-10] c.p.a.interceptor.CostInterceptor        : [Putao-Observer,hostName=VM_0_4_centos,cost=16,http_code=200,ip=121.69.42.54,putaoid=738061,serviceName=activities-common-service:8789,uri=/course_v2/activityCenter/admission/checkAdmission,uuid=ca929dc5-11ea-425d-9606-e4276275d903]
2020-01-15 16:46:47.827  INFO 4439 --- [nio-8789-exec-2] c.p.a.interceptor.CostInterceptor        : [URL]/course_v2/activityCenter/pay/wxPay[PARAMS]uuid:10.10.38.141|;putaoid:738061|;sign:cd17cacc132c8a340ffc61569fe91c31|;ts:1579078007825|;from:weixin|;putaoId:738061|;token:688195ca27|;source:794|;sourceToken:UarPulQB|;classId:136|;tId:82|;userPhone:14500004860|;goodsId:205|;openId:|;ip:10.10.38.141|;accountKey:wx_ptyyfwh|;unit:16|;wapUrl:https%3A%2F%2Fwww.putaoabc.com%2Fonlinepages%2Fop_activity%2Fputin_buyinfo|;wapName:%E8%91%A1%E8%90%84%E8%8B%B1%E8%AF%AD|;
2020-01-15 16:46:47.830  INFO 4439 --- [nio-8789-exec-2] c.p.a.controller.ActivityPayController   : userByPutaoId_com.putaoabc.usercenter.api.dto.CourseUserDTO@7dadb6fd
Hibernate: select periodscla0_.class_id as class_id1_29_0_, periodscla0_.activity_id as activity2_29_0_, periodscla0_.activity_type as activity3_29_0_, periodscla0_.camp_id as camp_id4_29_0_, periodscla0_.class_code_url as class_co5_29_0_, periodscla0_.class_name as class_na6_29_0_, periodscla0_.class_status as class_st7_29_0_, periodscla0_.course_type as course_t8_29_0_, periodscla0_.course_type_details as course_t9_29_0_, periodscla0_.create_time as create_10_29_0_, periodscla0_.device as device11_29_0_, periodscla0_.grade as grade12_29_0_, periodscla0_.opening_date as opening13_29_0_, periodscla0_.periods as periods14_29_0_, periodscla0_.periods_describe as periods15_29_0_, periodscla0_.periods_type as periods16_29_0_, periodscla0_.pred_num as pred_nu17_29_0_, periodscla0_.school_id as school_18_29_0_, periodscla0_.school_name as school_19_29_0_, periodscla0_.st_name as st_name20_29_0_, periodscla0_.teacher_id as teacher21_29_0_, periodscla0_.teacher_wx_num as teacher22_29_0_, periodscla0_.update_code_num as update_23_29_0_, periodscla0_.update_code_type as update_24_29_0_, periodscla0_.update_time as update_25_29_0_ from periods_class_info periodscla0_ where periodscla0_.class_id=?
Hibernate: select activityin0_.activity_id as activity1_6_0_, activityin0_.acti_msg_fixed as acti_msg2_6_0_, activityin0_.acti_msg_sms_record as acti_msg3_6_0_, activityin0_.acti_msg_wx_template_record as acti_msg4_6_0_, activityin0_.activity_name as activity5_6_0_, activityin0_.activity_type as activity6_6_0_, activityin0_.activity_url as activity7_6_0_, activityin0_.cash_condition as cash_con8_6_0_, activityin0_.conditions as conditio9_6_0_, activityin0_.create_by as create_10_6_0_, activityin0_.create_time as create_11_6_0_, activityin0_.goods_price as goods_p12_6_0_, activityin0_.if_renew as if_rene13_6_0_, activityin0_.if_return_cash as if_retu14_6_0_, activityin0_.package_id as package15_6_0_, activityin0_.package_name as package16_6_0_, activityin0_.package_type as package17_6_0_, activityin0_.personal_type as persona18_6_0_, activityin0_.supple_id as supple_19_6_0_, activityin0_.unit as unit20_6_0_, activityin0_.update_by as update_21_6_0_, activityin0_.update_time as update_22_6_0_ from activity_info activityin0_ where activityin0_.activity_id=?
2020-01-15 16:46:48.080  INFO 4439 --- [nio-8789-exec-2] c.p.a.controller.ActivityPayController   : orderResult{
    "package":"Sign=WXPay",
    "orderId":21106,
    "sign":"8A3A0E0FBE4803E8A28725B14A910172",
    "noncestr":"guB6micZpTh5FBuIHEZSURO74g4LfKBW",
    "appid":"wx3ac95cbd0df1881d",
    "partnerid":"1510569371",
    "prepayid":"wx15164648044099082ee598001105889800",
    "mwebUrl":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx15164648044099082ee598001105889800&package=2651181133",
    "timestamp":"1579078008"
}
2020-01-15 16:46:48.080  INFO 4439 --- [nio-8789-exec-2] c.p.a.controller.ActivityPayController   : aco{
    "activityId":105,
    "classId":136,
    "goodsId":205,
    "openId":"",
    "orderId":21106,
    "putaoId":738061,
    "source":794,
    "unit":16,
    "userPhone":"14500004860"
}
Hibernate: insert into activtiy_center_order (activity_id, activity_type, class_id, dis_count_code, goods_id, group_id, open_id, order_id, pay_status, putao_id, source, unit, user_phone) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2020-01-15 16:46:48.085  INFO 4439 --- [nio-8789-exec-2] c.p.a.interceptor.CostInterceptor        : [Putao-Observer,hostName=VM_0_4_centos,cost=258,http_code=200,ip=121.69.42.54,putaoid=738061,serviceName=activities-common-service:8789,uri=/course_v2/activityCenter/pay/wxPay,uuid=4627b989-bc32-4ed5-bede-36a5b89a83cf]
2020-01-15 16:46:49.747  INFO 4439 --- [nio-8789-exec-3] c.p.a.interceptor.CostInterceptor        : [URL]/course_v2/activityCenter/price/getGoodsListByClassId[PARAMS]ts:1579078009|;NDevice:iPad7,3|;token:Nl/gXonC3F7v+EV0fNvyfw==|;device:iPad Pro 10.5|;appBuildVersion:6|;systemVersion:13.3|;source:794|;from:iPad|;uuid:F9B37F14-7A4E-4655-BE0D-8E6A32DDC835|;idfa:21C0805B-483F-46F0-8431-3FB7C1B4858D|;putaoid:738058|;appVersion:200.5.3|;starttime:1579078009|;sign:0b17e35746f39534ca5d84a9b8ddc8ca|;putaoId:738058|;_t:1579078009694|;sourceToken:UarPulQB|;classId:136|;tId:|;
Hibernate: select periodscla0_.class_id as class_id1_29_0_, periodscla0_.activity_id as activity2_29_0_, periodscla0_.activity_type as activity3_29_0_, periodscla0_.camp_id as camp_id4_29_0_, periodscla0_.class_code_url as class_co5_29_0_, periodscla0_.class_name as class_na6_29_0_, periodscla0_.class_status as class_st7_29_0_, periodscla0_.course_type as course_t8_29_0_, periodscla0_.course_type_details as course_t9_29_0_, periodscla0_.create_time as create_10_29_0_, periodscla0_.device as device11_29_0_, periodscla0_.grade as grade12_29_0_, periodscla0_.opening_date as opening13_29_0_, periodscla0_.periods as periods14_29_0_, periodscla0_.periods_describe as periods15_29_0_, periodscla0_.periods_type as periods16_29_0_, periodscla0_.pred_num as pred_nu17_29_0_, periodscla0_.school_id as school_18_29_0_, periodscla0_.school_name as school_19_29_0_, periodscla0_.st_name as st_name20_29_0_, periodscla0_.teacher_id as teacher21_29_0_, periodscla0_.teacher_wx_num as teacher22_29_0_, periodscla0_.update_code_num as update_23_29_0_, periodscla0_.update_code_type as update_24_29_0_, periodscla0_.update_time as update_25_29_0_ from periods_class_info periodscla0_ where periodscla0_.class_id=?
Hibernate: select activityin0_.activity_id as activity1_6_0_, activityin0_.acti_msg_fixed as acti_msg2_6_0_, activityin0_.acti_msg_sms_record as acti_msg3_6_0_, activityin0_.acti_msg_wx_template_record as acti_msg4_6_0_, activityin0_.activity_name as activity5_6_0_, activityin0_.activity_type as activity6_6_0_, activityin0_.activity_url as activity7_6_0_, activityin0_.cash_condition as cash_con8_6_0_, activityin0_.conditions as conditio9_6_0_, activityin0_.create_by as create_10_6_0_, activityin0_.create_time as create_11_6_0_, activityin0_.goods_price as goods_p12_6_0_, activityin0_.if_renew as if_rene13_6_0_, activityin0_.if_return_cash as if_retu14_6_0_, activityin0_.package_id as package15_6_0_, activityin0_.package_name as package16_6_0_, activityin0_.package_type as package17_6_0_, activityin0_.personal_type as persona18_6_0_, activityin0_.supple_id as supple_19_6_0_, activityin0_.unit as unit20_6_0_, activityin0_.update_by as update_21_6_0_, activityin0_.update_time as update_22_6_0_ from activity_info activityin0_ where activityin0_.activity_id=?
2020-01-15 16:46:49.755  INFO 4439 --- [nio-8789-exec-3] c.p.a.interceptor.CostInterceptor        : [Putao-Observer,hostName=VM_0_4_centos,cost=7,http_code=200,ip=121.69.42.54,putaoid=738058,serviceName=activities-common-service:8789,uri=/course_v2/activityCenter/price/getGoodsListByClassId,uuid=7f70df4b-2746-49ca-a5fc-d2c69e534837]
2020-01-15 16:46:54.871  INFO 4439 --- [MessageThread_1] p.a.s.ActivityCenterSubcribeListenerImpl : activity center start recive message,queue:dev-topic-activities-common-service,msg:[msgId=4503599627370917, receiptHandle=8074989728156238015, data={"activityOrder":{"tags":["activityOrder"],"data":{"orderId":21106,"openCourseNum":3,"effectiveDay":14,"tag":"activityOrder"}}}]
Hibernate: select activtiyce0_.id as id1_14_, activtiyce0_.activity_id as activity2_14_, activtiyce0_.activity_type as activity3_14_, activtiyce0_.class_id as class_id4_14_, activtiyce0_.create_time as create_t5_14_, activtiyce0_.dis_count_code as dis_coun6_14_, activtiyce0_.goods_id as goods_id7_14_, activtiyce0_.group_id as group_id8_14_, activtiyce0_.open_id as open_id9_14_, activtiyce0_.order_id as order_i10_14_, activtiyce0_.pay_status as pay_sta11_14_, activtiyce0_.putao_id as putao_i12_14_, activtiyce0_.source as source13_14_, activtiyce0_.unit as unit14_14_, activtiyce0_.user_phone as user_ph15_14_ from activtiy_center_order activtiyce0_ where activtiyce0_.order_id=? limit ?
Hibernate: select periodscla0_.class_id as class_id1_29_, periodscla0_.activity_id as activity2_29_, periodscla0_.activity_type as activity3_29_, periodscla0_.camp_id as camp_id4_29_, periodscla0_.class_code_url as class_co5_29_, periodscla0_.class_name as class_na6_29_, periodscla0_.class_status as class_st7_29_, periodscla0_.course_type as course_t8_29_, periodscla0_.course_type_details as course_t9_29_, periodscla0_.create_time as create_10_29_, periodscla0_.device as device11_29_, periodscla0_.grade as grade12_29_, periodscla0_.opening_date as opening13_29_, periodscla0_.periods as periods14_29_, periodscla0_.periods_describe as periods15_29_, periodscla0_.periods_type as periods16_29_, periodscla0_.pred_num as pred_nu17_29_, periodscla0_.school_id as school_18_29_, periodscla0_.school_name as school_19_29_, periodscla0_.st_name as st_name20_29_, periodscla0_.teacher_id as teacher21_29_, periodscla0_.teacher_wx_num as teacher22_29_, periodscla0_.update_code_num as update_23_29_, periodscla0_.update_code_type as update_24_29_, periodscla0_.update_time as update_25_29_ from periods_class_info periodscla0_ where periodscla0_.class_id=? limit ?
Hibernate: select activityca0_.id as id1_35_0_, activityca0_.activity_ids as activity2_35_0_, activityca0_.activity_type as activity3_35_0_, activityca0_.course_type as course_t4_35_0_, activityca0_.course_type_details as course_t5_35_0_, activityca0_.course_type_time as course_t6_35_0_, activityca0_.create_time as create_t7_35_0_, activityca0_.first_leads_end_time as first_le8_35_0_, activityca0_.first_leads_start_time as first_le9_35_0_, activityca0_.leads_type as leads_t10_35_0_, activityca0_.name as name11_35_0_, activityca0_.opening_date as opening12_35_0_, activityca0_.pred_num as pred_nu13_35_0_, activityca0_.second_leads_end_time as second_14_35_0_, activityca0_.second_leads_start_time as second_15_35_0_, activityca0_.second_opening_date as second_16_35_0_, activityca0_.update_code_cycle as update_17_35_0_, activityca0_.update_code_value as update_18_35_0_, activityca0_.update_periods_time as update_19_35_0_, activityca0_.update_time as update_20_35_0_ from t_activity_camp_info activityca0_ where activityca0_.id=?
Hibernate: select periodscla0_.class_id as class_id1_29_, periodscla0_.activity_id as activity2_29_, periodscla0_.activity_type as activity3_29_, periodscla0_.camp_id as camp_id4_29_, periodscla0_.class_code_url as class_co5_29_, periodscla0_.class_name as class_na6_29_, periodscla0_.class_status as class_st7_29_, periodscla0_.course_type as course_t8_29_, periodscla0_.course_type_details as course_t9_29_, periodscla0_.create_time as create_10_29_, periodscla0_.device as device11_29_, periodscla0_.grade as grade12_29_, periodscla0_.opening_date as opening13_29_, periodscla0_.periods as periods14_29_, periodscla0_.periods_describe as periods15_29_, periodscla0_.periods_type as periods16_29_, periodscla0_.pred_num as pred_nu17_29_, periodscla0_.school_id as school_18_29_, periodscla0_.school_name as school_19_29_, periodscla0_.st_name as st_name20_29_, periodscla0_.teacher_id as teacher21_29_, periodscla0_.teacher_wx_num as teacher22_29_, periodscla0_.update_code_num as update_23_29_, periodscla0_.update_code_type as update_24_29_, periodscla0_.update_time as update_25_29_ from periods_class_info periodscla0_ where periodscla0_.class_id=? limit ?
Hibernate: select activityin0_.activity_id as activity1_6_0_, activityin0_.acti_msg_fixed as acti_msg2_6_0_, activityin0_.acti_msg_sms_record as acti_msg3_6_0_, activityin0_.acti_msg_wx_template_record as acti_msg4_6_0_, activityin0_.activity_name as activity5_6_0_, activityin0_.activity_type as activity6_6_0_, activityin0_.activity_url as activity7_6_0_, activityin0_.cash_condition as cash_con8_6_0_, activityin0_.conditions as conditio9_6_0_, activityin0_.create_by as create_10_6_0_, activityin0_.create_time as create_11_6_0_, activityin0_.goods_price as goods_p12_6_0_, activityin0_.if_renew as if_rene13_6_0_, activityin0_.if_return_cash as if_retu14_6_0_, activityin0_.package_id as package15_6_0_, activityin0_.package_name as package16_6_0_, activityin0_.package_type as package17_6_0_, activityin0_.personal_type as persona18_6_0_, activityin0_.supple_id as supple_19_6_0_, activityin0_.unit as unit20_6_0_, activityin0_.update_by as update_21_6_0_, activityin0_.update_time as update_22_6_0_ from activity_info activityin0_ where activityin0_.activity_id=?
2020-01-15 16:46:54.892  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : {"conditions":{"condition_forbid":[[{"leftoperator":"ifForbidOther","predicate":"eq","rightoperator":0}]],"condition_course":[[{"leftoperator":"mainCourse","predicate":"eq","rightoperator":0},{"leftoperator":"experienceCourse","predicate":"eq","rightoperator":0},{"leftoperator":"specialCourse","predicate":"eq","rightoperator":0}]],"condition_source":[[{"leftoperator":"isNew","predicate":"eq","rightoperator":1}],[{"leftoperator":"sameSource","predicate":"eq","rightoperator":1}],[{"leftoperator":"withinOneDay","predicate":"eq","rightoperator":1}]]}}
2020-01-15 16:46:54.892  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : conditions_sub[[{"leftoperator":"mainCourse","predicate":"eq","rightoperator":0},{"leftoperator":"experienceCourse","predicate":"eq","rightoperator":0},{"leftoperator":"specialCourse","predicate":"eq","rightoperator":0}]]
2020-01-15 16:46:54.892  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : 3
Hibernate: select experience0_.id as id1_20_, experience0_.create_time as create_t2_20_, experience0_.end_time as end_time3_20_, experience0_.level as level4_20_, experience0_.putao_id as putao_id5_20_, experience0_.type as type6_20_, experience0_.unit as unit7_20_ from experience_camp_activity_record experience0_ where experience0_.putao_id=? and (experience0_.unit in (? , ? , ? , ?))
2020-01-15 16:46:54.894  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : judgeExperienceCamp  putaoId:738061  records[]
Hibernate: select experience0_.id as id1_20_, experience0_.create_time as create_t2_20_, experience0_.end_time as end_time3_20_, experience0_.level as level4_20_, experience0_.putao_id as putao_id5_20_, experience0_.type as type6_20_, experience0_.unit as unit7_20_ from experience_camp_activity_record experience0_ where experience0_.putao_id=? and (experience0_.unit in (? , ? , ? , ?))
2020-01-15 16:46:54.896  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : judgeSpecialCamp  putaoId:738061  records[]
2020-01-15 16:46:54.896 ERROR 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : substring0==0&&0==0&&0==0
2020-01-15 16:46:54.896  INFO 4439 --- [MessageThread_1] c.p.a.util.ActivityAdmissionUtil         : [0==0, &&, 0==0, &&, 0==0]stack
2020-01-15 16:46:54.896 ERROR 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : subSubResult ==>>true
2020-01-15 16:46:54.896  INFO 4439 --- [MessageThread_1] c.p.a.util.ActivityAdmissionUtil         : [true]stack
2020-01-15 16:46:54.896  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : subResult =>true
2020-01-15 16:46:54.896  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : conditions_sub[[{"leftoperator":"isNew","predicate":"eq","rightoperator":1}],[{"leftoperator":"sameSource","predicate":"eq","rightoperator":1}],[{"leftoperator":"withinOneDay","predicate":"eq","rightoperator":1}]]
2020-01-15 16:46:54.896  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : 1
2020-01-15 16:46:54.899 ERROR 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : substring1==1
2020-01-15 16:46:54.899  INFO 4439 --- [MessageThread_1] c.p.a.util.ActivityAdmissionUtil         : [1==1]stack
2020-01-15 16:46:54.899 ERROR 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : subSubResult ==>>true
2020-01-15 16:46:54.899  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : 1
Hibernate: select channelinf0_.id as id1_15_, channelinf0_.activity_id as activity2_15_, channelinf0_.activity_rule as activity3_15_, channelinf0_.camp_id as camp_id4_15_, channelinf0_.channel as channel5_15_, channelinf0_.channel_classify as channel_6_15_, channelinf0_.channel_instruction as channel_7_15_, channelinf0_.channel_level as channel_8_15_, channelinf0_.channel_type as channel_9_15_, channelinf0_.channel_url as channel10_15_, channelinf0_.class_id as class_i11_15_, channelinf0_.delay_type as delay_t12_15_, channelinf0_.first_echeon as first_e13_15_, channelinf0_.five_echeon as five_ec14_15_, channelinf0_.fourth_echeon as fourth_15_15_, channelinf0_.group_id as group_i16_15_, channelinf0_.if_own as if_own17_15_, channelinf0_.if_statistics as if_stat18_15_, channelinf0_.new_sale as new_sal19_15_, channelinf0_.old_sale as old_sal20_15_, channelinf0_.producer_shop_id as produce21_15_, channelinf0_.second_echeon as second_22_15_, channelinf0_.shop_id as shop_id23_15_, channelinf0_.source as source24_15_, channelinf0_.statistics_date as statist25_15_, channelinf0_.statistics_type as statist26_15_, channelinf0_.status as status27_15_, channelinf0_.subdivide_channel as subdivi28_15_, channelinf0_.third_echeon as third_e29_15_, channelinf0_.third_product_group as third_p30_15_, channelinf0_.url_type as url_typ31_15_, channelinf0_.user_name as user_na32_15_ from channel_info channelinf0_ where channelinf0_.source=? limit ?
Hibernate: select channelinf0_.id as id1_15_, channelinf0_.activity_id as activity2_15_, channelinf0_.activity_rule as activity3_15_, channelinf0_.camp_id as camp_id4_15_, channelinf0_.channel as channel5_15_, channelinf0_.channel_classify as channel_6_15_, channelinf0_.channel_instruction as channel_7_15_, channelinf0_.channel_level as channel_8_15_, channelinf0_.channel_type as channel_9_15_, channelinf0_.channel_url as channel10_15_, channelinf0_.class_id as class_i11_15_, channelinf0_.delay_type as delay_t12_15_, channelinf0_.first_echeon as first_e13_15_, channelinf0_.five_echeon as five_ec14_15_, channelinf0_.fourth_echeon as fourth_15_15_, channelinf0_.group_id as group_i16_15_, channelinf0_.if_own as if_own17_15_, channelinf0_.if_statistics as if_stat18_15_, channelinf0_.new_sale as new_sal19_15_, channelinf0_.old_sale as old_sal20_15_, channelinf0_.producer_shop_id as produce21_15_, channelinf0_.second_echeon as second_22_15_, channelinf0_.shop_id as shop_id23_15_, channelinf0_.source as source24_15_, channelinf0_.statistics_date as statist25_15_, channelinf0_.statistics_type as statist26_15_, channelinf0_.status as status27_15_, channelinf0_.subdivide_channel as subdivi28_15_, channelinf0_.third_echeon as third_e29_15_, channelinf0_.third_product_group as third_p30_15_, channelinf0_.url_type as url_typ31_15_, channelinf0_.user_name as user_na32_15_ from channel_info channelinf0_ where channelinf0_.source is null limit ?
2020-01-15 16:46:54.903 ERROR 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : substring0==1
2020-01-15 16:46:54.903  INFO 4439 --- [MessageThread_1] c.p.a.util.ActivityAdmissionUtil         : [0==1]stack
2020-01-15 16:46:54.903 ERROR 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : subSubResult ==>>false
2020-01-15 16:46:54.903  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : 1
2020-01-15 16:46:54.905  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : 7905_0.0021958333333333335
2020-01-15 16:46:54.905 ERROR 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : substring1==1
2020-01-15 16:46:54.905  INFO 4439 --- [MessageThread_1] c.p.a.util.ActivityAdmissionUtil         : [1==1]stack
2020-01-15 16:46:54.905 ERROR 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : subSubResult ==>>true
2020-01-15 16:46:54.905  INFO 4439 --- [MessageThread_1] c.p.a.util.ActivityAdmissionUtil         : [true, ||, false, ||, true]stack
2020-01-15 16:46:54.905  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : subResult =>true
2020-01-15 16:46:54.905  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : conditions_sub[[{"leftoperator":"ifForbidOther","predicate":"eq","rightoperator":0}]]
2020-01-15 16:46:54.905  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : 1
Hibernate: select activityre0_.id as id1_9_, activityre0_.activity_id as activity2_9_, activityre0_.activity_name as activity3_9_, activityre0_.class_id as class_id4_9_, activityre0_.create_time as create_t5_9_, activityre0_.experience_id as experien6_9_, activityre0_.putao_id as putao_id7_9_, activityre0_.return_day as return_d8_9_, activityre0_.return_money as return_m9_9_, activityre0_.return_platform as return_10_9_, activityre0_.return_type as return_11_9_, activityre0_.status as status12_9_ from activity_return_money_record activityre0_ where activityre0_.putao_id=?
2020-01-15 16:46:54.906  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : activityReturnMoneyRecordRepository.findAllByPutaoId(putaoId :738061), result:[]
2020-01-15 16:46:54.906 ERROR 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : substring2==0
2020-01-15 16:46:54.906  INFO 4439 --- [MessageThread_1] c.p.a.util.ActivityAdmissionUtil         : [2==0]stack
2020-01-15 16:46:54.906 ERROR 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : subSubResult ==>>false
2020-01-15 16:46:54.906  INFO 4439 --- [MessageThread_1] c.p.a.util.ActivityAdmissionUtil         : [false]stack
2020-01-15 16:46:54.906  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : subResult =>false
2020-01-15 16:46:54.906  INFO 4439 --- [MessageThread_1] c.p.a.service.ActivityAdmissionService   : change to true
2020-01-15 16:46:54.906  INFO 4439 --- [MessageThread_1] c.p.a.util.ActivityAdmissionUtil         : [true, &&, true, &&, true]stack
Hibernate: select activityca0_.id as id1_35_0_, activityca0_.activity_ids as activity2_35_0_, activityca0_.activity_type as activity3_35_0_, activityca0_.course_type as course_t4_35_0_, activityca0_.course_type_details as course_t5_35_0_, activityca0_.course_type_time as course_t6_35_0_, activityca0_.create_time as create_t7_35_0_, activityca0_.first_leads_end_time as first_le8_35_0_, activityca0_.first_leads_start_time as first_le9_35_0_, activityca0_.leads_type as leads_t10_35_0_, activityca0_.name as name11_35_0_, activityca0_.opening_date as opening12_35_0_, activityca0_.pred_num as pred_nu13_35_0_, activityca0_.second_leads_end_time as second_14_35_0_, activityca0_.second_leads_start_time as second_15_35_0_, activityca0_.second_opening_date as second_16_35_0_, activityca0_.update_code_cycle as update_17_35_0_, activityca0_.update_code_value as update_18_35_0_, activityca0_.update_periods_time as update_19_35_0_, activityca0_.update_time as update_20_35_0_ from t_activity_camp_info activityca0_ where activityca0_.id=?
Hibernate: select activityin0_.activity_id as activity1_6_, activityin0_.acti_msg_fixed as acti_msg2_6_, activityin0_.acti_msg_sms_record as acti_msg3_6_, activityin0_.acti_msg_wx_template_record as acti_msg4_6_, activityin0_.activity_name as activity5_6_, activityin0_.activity_type as activity6_6_, activityin0_.activity_url as activity7_6_, activityin0_.cash_condition as cash_con8_6_, activityin0_.conditions as conditio9_6_, activityin0_.create_by as create_10_6_, activityin0_.create_time as create_11_6_, activityin0_.goods_price as goods_p12_6_, activityin0_.if_renew as if_rene13_6_, activityin0_.if_return_cash as if_retu14_6_, activityin0_.package_id as package15_6_, activityin0_.package_name as package16_6_, activityin0_.package_type as package17_6_, activityin0_.personal_type as persona18_6_, activityin0_.supple_id as supple_19_6_, activityin0_.unit as unit20_6_, activityin0_.update_by as update_21_6_, activityin0_.update_time as update_22_6_ from activity_info activityin0_ where activityin0_.activity_id=? limit ?
Hibernate: select periodscla0_.class_id as class_id1_29_, periodscla0_.activity_id as activity2_29_, periodscla0_.activity_type as activity3_29_, periodscla0_.camp_id as camp_id4_29_, periodscla0_.class_code_url as class_co5_29_, periodscla0_.class_name as class_na6_29_, periodscla0_.class_status as class_st7_29_, periodscla0_.course_type as course_t8_29_, periodscla0_.course_type_details as course_t9_29_, periodscla0_.create_time as create_10_29_, periodscla0_.device as device11_29_, periodscla0_.grade as grade12_29_, periodscla0_.opening_date as opening13_29_, periodscla0_.periods as periods14_29_, periodscla0_.periods_describe as periods15_29_, periodscla0_.periods_type as periods16_29_, periodscla0_.pred_num as pred_nu17_29_, periodscla0_.school_id as school_18_29_, periodscla0_.school_name as school_19_29_, periodscla0_.st_name as st_name20_29_, periodscla0_.teacher_id as teacher21_29_, periodscla0_.teacher_wx_num as teacher22_29_, periodscla0_.update_code_num as update_23_29_, periodscla0_.update_code_type as update_24_29_, periodscla0_.update_time as update_25_29_ from periods_class_info periodscla0_ where periodscla0_.class_id=? limit ?
Hibernate: select activityca0_.id as id1_35_0_, activityca0_.activity_ids as activity2_35_0_, activityca0_.activity_type as activity3_35_0_, activityca0_.course_type as course_t4_35_0_, activityca0_.course_type_details as course_t5_35_0_, activityca0_.course_type_time as course_t6_35_0_, activityca0_.create_time as create_t7_35_0_, activityca0_.first_leads_end_time as first_le8_35_0_, activityca0_.first_leads_start_time as first_le9_35_0_, activityca0_.leads_type as leads_t10_35_0_, activityca0_.name as name11_35_0_, activityca0_.opening_date as opening12_35_0_, activityca0_.pred_num as pred_nu13_35_0_, activityca0_.second_leads_end_time as second_14_35_0_, activityca0_.second_leads_start_time as second_15_35_0_, activityca0_.second_opening_date as second_16_35_0_, activityca0_.update_code_cycle as update_17_35_0_, activityca0_.update_code_value as update_18_35_0_, activityca0_.update_periods_time as update_19_35_0_, activityca0_.update_time as update_20_35_0_ from t_activity_camp_info activityca0_ where activityca0_.id=?
Hibernate: select salereluse0_.id as id1_33_, salereluse0_.activity_id as activity2_33_, salereluse0_.back_teacher_name as back_tea3_33_, salereluse0_.camp_id as camp_id4_33_, salereluse0_.camp_type as camp_typ5_33_, salereluse0_.class_id as class_id6_33_, salereluse0_.class_name as class_na7_33_, salereluse0_.create_time as create_t8_33_, salereluse0_.grade as grade9_33_, salereluse0_.open_id as open_id10_33_, salereluse0_.opening_date as opening11_33_, salereluse0_.periods as periods12_33_, salereluse0_.periods_id as periods13_33_, salereluse0_.personal_type as persona14_33_, salereluse0_.putao_id as putao_i15_33_, salereluse0_.sale_phone as sale_ph16_33_, salereluse0_.source as source17_33_, salereluse0_.teacher_id as teacher18_33_, salereluse0_.teacher_nickname as teacher19_33_, salereluse0_.unit as unit20_33_, salereluse0_.url as url21_33_ from sale_rel_user salereluse0_ where salereluse0_.putao_id=? and salereluse0_.camp_id=? limit ?
Hibernate: select activitygr0_.id as id1_36_, activitygr0_.activity_type as activity2_36_, activitygr0_.camp_id as camp_id3_36_, activitygr0_.create_time as create_t4_36_, activitygr0_.leads_type as leads_ty5_36_, activitygr0_.name as name6_36_, activitygr0_.type as type7_36_, activitygr0_.update_code_num as update_c8_36_, activitygr0_.update_code_type as update_c9_36_, activitygr0_.update_time as update_10_36_ from t_activity_group activitygr0_ where activitygr0_.camp_id=? limit ?
Hibernate: select activityin0_.activity_id as activity1_6_0_, activityin0_.acti_msg_fixed as acti_msg2_6_0_, activityin0_.acti_msg_sms_record as acti_msg3_6_0_, activityin0_.acti_msg_wx_template_record as acti_msg4_6_0_, activityin0_.activity_name as activity5_6_0_, activityin0_.activity_type as activity6_6_0_, activityin0_.activity_url as activity7_6_0_, activityin0_.cash_condition as cash_con8_6_0_, activityin0_.conditions as conditio9_6_0_, activityin0_.create_by as create_10_6_0_, activityin0_.create_time as create_11_6_0_, activityin0_.goods_price as goods_p12_6_0_, activityin0_.if_renew as if_rene13_6_0_, activityin0_.if_return_cash as if_retu14_6_0_, activityin0_.package_id as package15_6_0_, activityin0_.package_name as package16_6_0_, activityin0_.package_type as package17_6_0_, activityin0_.personal_type as persona18_6_0_, activityin0_.supple_id as supple_19_6_0_, activityin0_.unit as unit20_6_0_, activityin0_.update_by as update_21_6_0_, activityin0_.update_time as update_22_6_0_ from activity_info activityin0_ where activityin0_.activity_id=?
Hibernate: select * from t_activity_group_teacher where group_id=? order by code_num asc limit 1
Hibernate: select salemaninf0_.id as id1_32_, salemaninf0_.camp_type as camp_typ2_32_, salemaninf0_.class_id as class_id3_32_, salemaninf0_.class_name as class_na4_32_, salemaninf0_.grade as grade5_32_, salemaninf0_.group_code_url as group_co6_32_, salemaninf0_.name as name7_32_, salemaninf0_.nick_name as nick_nam8_32_, salemaninf0_.periods as periods9_32_, salemaninf0_.periods_id as periods10_32_, salemaninf0_.phone as phone11_32_, salemaninf0_.source as source12_32_, salemaninf0_.status as status13_32_, salemaninf0_.teacher_status as teacher14_32_, salemaninf0_.url as url15_32_, salemaninf0_.wx as wx16_32_, salemaninf0_.wxid as wxid17_32_ from sale_man_info salemaninf0_ where salemaninf0_.id=? limit ?
Hibernate: select salemaninf0_.id as id1_32_, salemaninf0_.camp_type as camp_typ2_32_, salemaninf0_.class_id as class_id3_32_, salemaninf0_.class_name as class_na4_32_, salemaninf0_.grade as grade5_32_, salemaninf0_.group_code_url as group_co6_32_, salemaninf0_.name as name7_32_, salemaninf0_.nick_name as nick_nam8_32_, salemaninf0_.periods as periods9_32_, salemaninf0_.periods_id as periods10_32_, salemaninf0_.phone as phone11_32_, salemaninf0_.source as source12_32_, salemaninf0_.status as status13_32_, salemaninf0_.teacher_status as teacher14_32_, salemaninf0_.url as url15_32_, salemaninf0_.wx as wx16_32_, salemaninf0_.wxid as wxid17_32_ from sale_man_info salemaninf0_ where salemaninf0_.id=? limit ?
Hibernate: insert into sale_rel_user (activity_id, back_teacher_name, camp_id, camp_type, class_id, class_name, grade, open_id, opening_date, periods, periods_id, personal_type, putao_id, sale_phone, source, teacher_id, teacher_nickname, unit, url) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: select activitygr0_.id as id1_37_0_, activitygr0_.back_teacher_id as back_tea2_37_0_, activitygr0_.code_num as code_num3_37_0_, activitygr0_.create_time as create_t4_37_0_, activitygr0_.group_id as group_id5_37_0_, activitygr0_.teacher_id as teacher_6_37_0_, activitygr0_.update_time as update_t7_37_0_ from t_activity_group_teacher activitygr0_ where activitygr0_.id=?
Hibernate: update t_activity_group_teacher set back_teacher_id=?, code_num=?, group_id=?, teacher_id=?, update_time=? where id=?
Hibernate: select salereluse0_.id as id1_33_, salereluse0_.activity_id as activity2_33_, salereluse0_.back_teacher_name as back_tea3_33_, salereluse0_.camp_id as camp_id4_33_, salereluse0_.camp_type as camp_typ5_33_, salereluse0_.class_id as class_id6_33_, salereluse0_.class_name as class_na7_33_, salereluse0_.create_time as create_t8_33_, salereluse0_.grade as grade9_33_, salereluse0_.open_id as open_id10_33_, salereluse0_.opening_date as opening11_33_, salereluse0_.periods as periods12_33_, salereluse0_.periods_id as periods13_33_, salereluse0_.personal_type as persona14_33_, salereluse0_.putao_id as putao_i15_33_, salereluse0_.sale_phone as sale_ph16_33_, salereluse0_.source as source17_33_, salereluse0_.teacher_id as teacher18_33_, salereluse0_.teacher_nickname as teacher19_33_, salereluse0_.unit as unit20_33_, salereluse0_.url as url21_33_ from sale_rel_user salereluse0_ where salereluse0_.teacher_id=? and (salereluse0_.create_time between ? and ?)
Hibernate: select salereluse0_.id as id1_33_, salereluse0_.activity_id as activity2_33_, salereluse0_.back_teacher_name as back_tea3_33_, salereluse0_.camp_id as camp_id4_33_, salereluse0_.camp_type as camp_typ5_33_, salereluse0_.class_id as class_id6_33_, salereluse0_.class_name as class_na7_33_, salereluse0_.create_time as create_t8_33_, salereluse0_.grade as grade9_33_, salereluse0_.open_id as open_id10_33_, salereluse0_.opening_date as opening11_33_, salereluse0_.periods as periods12_33_, salereluse0_.periods_id as periods13_33_, salereluse0_.personal_type as persona14_33_, salereluse0_.putao_id as putao_i15_33_, salereluse0_.sale_phone as sale_ph16_33_, salereluse0_.source as source17_33_, salereluse0_.teacher_id as teacher18_33_, salereluse0_.teacher_nickname as teacher19_33_, salereluse0_.unit as unit20_33_, salereluse0_.url as url21_33_ from sale_rel_user salereluse0_ where salereluse0_.teacher_id=? and (salereluse0_.create_time between ? and ?)
Hibernate: select periodscla0_.class_id as class_id1_29_, periodscla0_.activity_id as activity2_29_, periodscla0_.activity_type as activity3_29_, periodscla0_.camp_id as camp_id4_29_, periodscla0_.class_code_url as class_co5_29_, periodscla0_.class_name as class_na6_29_, periodscla0_.class_status as class_st7_29_, periodscla0_.course_type as course_t8_29_, periodscla0_.course_type_details as course_t9_29_, periodscla0_.create_time as create_10_29_, periodscla0_.device as device11_29_, periodscla0_.grade as grade12_29_, periodscla0_.opening_date as opening13_29_, periodscla0_.periods as periods14_29_, periodscla0_.periods_describe as periods15_29_, periodscla0_.periods_type as periods16_29_, periodscla0_.pred_num as pred_nu17_29_, periodscla0_.school_id as school_18_29_, periodscla0_.school_name as school_19_29_, periodscla0_.st_name as st_name20_29_, periodscla0_.teacher_id as teacher21_29_, periodscla0_.teacher_wx_num as teacher22_29_, periodscla0_.update_code_num as update_23_29_, periodscla0_.update_code_type as update_24_29_, periodscla0_.update_time as update_25_29_ from periods_class_info periodscla0_ where periodscla0_.class_id=? limit ?
Hibernate: select activityin0_.activity_id as activity1_6_0_, activityin0_.acti_msg_fixed as acti_msg2_6_0_, activityin0_.acti_msg_sms_record as acti_msg3_6_0_, activityin0_.acti_msg_wx_template_record as acti_msg4_6_0_, activityin0_.activity_name as activity5_6_0_, activityin0_.activity_type as activity6_6_0_, activityin0_.activity_url as activity7_6_0_, activityin0_.cash_condition as cash_con8_6_0_, activityin0_.conditions as conditio9_6_0_, activityin0_.create_by as create_10_6_0_, activityin0_.create_time as create_11_6_0_, activityin0_.goods_price as goods_p12_6_0_, activityin0_.if_renew as if_rene13_6_0_, activityin0_.if_return_cash as if_retu14_6_0_, activityin0_.package_id as package15_6_0_, activityin0_.package_name as package16_6_0_, activityin0_.package_type as package17_6_0_, activityin0_.personal_type as persona18_6_0_, activityin0_.supple_id as supple_19_6_0_, activityin0_.unit as unit20_6_0_, activityin0_.update_by as update_21_6_0_, activityin0_.update_time as update_22_6_0_ from activity_info activityin0_ where activityin0_.activity_id=?
2020-01-15 16:46:54.962  INFO 4439 --- [MessageThread_1] c.p.a.s.ActivityCreatePdOrderService     : ActivityCreatePdOrderService.activityCreateExpAndSpecialPdOrder:  + teachToolsGoodsId:1  + putaoId:738061 + orderId:21106
2020-01-15 16:46:54.979  INFO 4439 --- [MessageThread_1] c.p.a.s.ActivityCreatePdOrderService     : redis lock key:1_4:738061:1:ce98d9fd-39f5-4641-bebf-15209e912929
2020-01-15 16:46:54.983  INFO 4439 --- [MessageThread_1] c.p.a.s.ActivityCreatePdOrderService     : redis addlock ttgstokence98d9fd-39f5-4641-bebf-15209e912929
2020-01-15 16:46:54.998  INFO 4439 --- [MessageThread_1] c.p.a.s.ActivityCreatePdOrderService     : startCreatePdOrder738061
2020-01-15 16:46:55.016  INFO 4439 --- [MessageThread_1] c.p.a.s.ActivityCreatePdOrderService     : save pdOrder success, orderId :21106
2020-01-15 16:46:55.020  INFO 4439 --- [MessageThread_1] c.p.a.s.ActivityCreatePdOrderService     : redis delete key:1_4:738061:1
2020-01-15 16:46:55.021  INFO 4439 --- [MessageThread_1] c.p.a.s.ActivityCreatePdOrderService     : redis deletelock ttgstokence98d9fd-39f5-4641-bebf-15209e912929
Hibernate: select activtiyce0_.id as id1_14_0_, activtiyce0_.activity_id as activity2_14_0_, activtiyce0_.activity_type as activity3_14_0_, activtiyce0_.class_id as class_id4_14_0_, activtiyce0_.create_time as create_t5_14_0_, activtiyce0_.dis_count_code as dis_coun6_14_0_, activtiyce0_.goods_id as goods_id7_14_0_, activtiyce0_.group_id as group_id8_14_0_, activtiyce0_.open_id as open_id9_14_0_, activtiyce0_.order_id as order_i10_14_0_, activtiyce0_.pay_status as pay_sta11_14_0_, activtiyce0_.putao_id as putao_i12_14_0_, activtiyce0_.source as source13_14_0_, activtiyce0_.unit as unit14_14_0_, activtiyce0_.user_phone as user_ph15_14_0_ from activtiy_center_order activtiyce0_ where activtiyce0_.id=?
Hibernate: update activtiy_center_order set activity_id=?, activity_type=?, class_id=?, dis_count_code=?, goods_id=?, group_id=?, open_id=?, order_id=?, pay_status=?, putao_id=?, source=?, unit=?, user_phone=? where id=?
Hibernate: insert into activity_center_record (putao_id, refer_id, source) values (?, ?, ?)
Hibernate: select periodscla0_.class_id as class_id1_29_, periodscla0_.activity_id as activity2_29_, periodscla0_.activity_type as activity3_29_, periodscla0_.camp_id as camp_id4_29_, periodscla0_.class_code_url as class_co5_29_, periodscla0_.class_name as class_na6_29_, periodscla0_.class_status as class_st7_29_, periodscla0_.course_type as course_t8_29_, periodscla0_.course_type_details as course_t9_29_, periodscla0_.create_time as create_10_29_, periodscla0_.device as device11_29_, periodscla0_.grade as grade12_29_, periodscla0_.opening_date as opening13_29_, periodscla0_.periods as periods14_29_, periodscla0_.periods_describe as periods15_29_, periodscla0_.periods_type as periods16_29_, periodscla0_.pred_num as pred_nu17_29_, periodscla0_.school_id as school_18_29_, periodscla0_.school_name as school_19_29_, periodscla0_.st_name as st_name20_29_, periodscla0_.teacher_id as teacher21_29_, periodscla0_.teacher_wx_num as teacher22_29_, periodscla0_.update_code_num as update_23_29_, periodscla0_.update_code_type as update_24_29_, periodscla0_.update_time as update_25_29_ from periods_class_info periodscla0_ where periodscla0_.class_id=? limit ?
Hibernate: select activityin0_.activity_id as activity1_6_, activityin0_.acti_msg_fixed as acti_msg2_6_, activityin0_.acti_msg_sms_record as acti_msg3_6_, activityin0_.acti_msg_wx_template_record as acti_msg4_6_, activityin0_.activity_name as activity5_6_, activityin0_.activity_type as activity6_6_, activityin0_.activity_url as activity7_6_, activityin0_.cash_condition as cash_con8_6_, activityin0_.conditions as conditio9_6_, activityin0_.create_by as create_10_6_, activityin0_.create_time as create_11_6_, activityin0_.goods_price as goods_p12_6_, activityin0_.if_renew as if_rene13_6_, activityin0_.if_return_cash as if_retu14_6_, activityin0_.package_id as package15_6_, activityin0_.package_name as package16_6_, activityin0_.package_type as package17_6_, activityin0_.personal_type as persona18_6_, activityin0_.supple_id as supple_19_6_, activityin0_.unit as unit20_6_, activityin0_.update_by as update_21_6_, activityin0_.update_time as update_22_6_ from activity_info activityin0_ where activityin0_.activity_id=? limit ?
Hibernate: select activityca0_.id as id1_35_0_, activityca0_.activity_ids as activity2_35_0_, activityca0_.activity_type as activity3_35_0_, activityca0_.course_type as course_t4_35_0_, activityca0_.course_type_details as course_t5_35_0_, activityca0_.course_type_time as course_t6_35_0_, activityca0_.create_time as create_t7_35_0_, activityca0_.first_leads_end_time as first_le8_35_0_, activityca0_.first_leads_start_time as first_le9_35_0_, activityca0_.leads_type as leads_t10_35_0_, activityca0_.name as name11_35_0_, activityca0_.opening_date as opening12_35_0_, activityca0_.pred_num as pred_nu13_35_0_, activityca0_.second_leads_end_time as second_14_35_0_, activityca0_.second_leads_start_time as second_15_35_0_, activityca0_.second_opening_date as second_16_35_0_, activityca0_.update_code_cycle as update_17_35_0_, activityca0_.update_code_value as update_18_35_0_, activityca0_.update_periods_time as update_19_35_0_, activityca0_.update_time as update_20_35_0_ from t_activity_camp_info activityca0_ where activityca0_.id=?
Hibernate: select periodscla0_.class_id as class_id1_29_, periodscla0_.activity_id as activity2_29_, periodscla0_.activity_type as activity3_29_, periodscla0_.camp_id as camp_id4_29_, periodscla0_.class_code_url as class_co5_29_, periodscla0_.class_name as class_na6_29_, periodscla0_.class_status as class_st7_29_, periodscla0_.course_type as course_t8_29_, periodscla0_.course_type_details as course_t9_29_, periodscla0_.create_time as create_10_29_, periodscla0_.device as device11_29_, periodscla0_.grade as grade12_29_, periodscla0_.opening_date as opening13_29_, periodscla0_.periods as periods14_29_, periodscla0_.periods_describe as periods15_29_, periodscla0_.periods_type as periods16_29_, periodscla0_.pred_num as pred_nu17_29_, periodscla0_.school_id as school_18_29_, periodscla0_.school_name as school_19_29_, periodscla0_.st_name as st_name20_29_, periodscla0_.teacher_id as teacher21_29_, periodscla0_.teacher_wx_num as teacher22_29_, periodscla0_.update_code_num as update_23_29_, periodscla0_.update_code_type as update_24_29_, periodscla0_.update_time as update_25_29_ from periods_class_info periodscla0_ where periodscla0_.class_id=? limit ?


